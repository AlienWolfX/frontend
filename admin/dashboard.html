<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alluc</title>
    <!-- Bootstrap -->
    <link href="cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />
    <link
      href="../vendors/bootstrap/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <!-- Font Awesome -->
    <link
      href="../vendors/font-awesome/css/font-awesome.min.css"
      rel="stylesheet" />
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet" />
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet" />
    <!-- Datatables -->
    <link
      href="../vendors/datatables.net-bs/css/dataTables.bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="../vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="../vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="../vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="../vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css"
      rel="stylesheet" />
    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet" />
  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0">
              <a href="index.html" class="site_title"
                ><i class="fa fa-paw"></i> <span>Alluc</span></a
              >
            </div>
            <div class="clearfix"></div>
            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img
                  src="images/img.jpg"
                  alt="..."
                  class="img-circle profile_img" />
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h2><span id="user_name"></span></h2>
              </div>
            </div>
            <!-- /menu profile quick info -->
            <br />
            <!-- sidebar menu -->
            <div
              id="sidebar-menu"
              class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li>
                    <a
                      ><i class="fa fa-home"></i> Home
                      <span class="fa fa-chevron-down"></span
                    ></a>
                    <ul class="nav child_menu">
                      <li><a href="index.html">Dashboard</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
            <!-- /sidebar menu -->
            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span
                  class="glyphicon glyphicon-fullscreen"
                  aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span
                  class="glyphicon glyphicon-eye-close"
                  aria-hidden="true"></span>
              </a>
              <a
                data-toggle="tooltip"
                data-placement="top"
                title="Logout"
                href="#"
                id="logout">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>
        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <div class="nav toggle">
              <a id="menu_toggle"><i class="fa fa-bars"></i></a>
            </div>
            <nav class="nav navbar-nav">
              <ul class="navbar-right">
                <li class="nav-item dropdown open" style="padding-left: 15px">
                  <a
                    href="javascript:;"
                    class="user-profile dropdown-toggle"
                    aria-haspopup="true"
                    id="navbarDropdown"
                    data-toggle="dropdown"
                    aria-expanded="false">
                    <img src="images/img.jpg" alt="" /><span
                      id="user_name1"></span>
                  </a>
                  <div
                    class="dropdown-menu dropdown-usermenu pull-right"
                    aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="javascript:;"> Profile</a>
                    <a class="dropdown-item" href="javascript:;">
                      <span class="badge bg-red pull-right">50%</span>
                      <span>Settings</span>
                    </a>
                    <a class="dropdown-item" href="javascript:;">Help</a>
                    <a class="dropdown-item" href="#" id="btn-logout"
                      ><i class="fa fa-sign-out pull-right"></i> Log Out</a
                    >
                  </div>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->
        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>LIST OF RECORDS</h3>
              </div>
              <div class="title_right">
                <div
                  class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Search for..."
                      id="searchInput" />
                    <span class="input-group-btn">
                      <button
                        class="btn btn-secondary"
                        id="searchButton"
                        type="button">
                        Go!
                      </button>
                    </span>
                  </div>
                </div>
              </div>
              <div class="clearfix"></div>
              <div class="row">
                <div class="col-md-12 col-sm-12">
                  <div class="x_panel">
                    <div class="x_title">
                      <h2>List of Clients</h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li>
                          <button
                            type="button"
                            class="btn btn-primary"
                            data-toggle="modal"
                            data-target="#createClientModal">
                            Create Client
                          </button>
                        </li>
                        <!-- Modal -->
                        <div
                          class="modal fade"
                          id="createClientModal"
                          tabindex="-1"
                          role="dialog"
                          aria-labelledby="createClientModalLabel"
                          aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5
                                  class="modal-title"
                                  id="createClientModalLabel">
                                  Create Client
                                </h5>
                                <button
                                  type="button"
                                  class="close"
                                  data-dismiss="modal"
                                  aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <form id="createClientForm">
                                <div class="modal-body">
                                  <div class="form-group">
                                    <label for="clientFirstName"
                                      >First Name</label
                                    >
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="clientFirstName" />
                                  </div>
                                  <div class="form-group">
                                    <label for="clientLastName"
                                      >Last Name</label
                                    >
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="clientLastName" />
                                  </div>
                                  <div class="form-group">
                                    <label for="age">Age</label>
                                    <input
                                      type="number"
                                      class="form-control"
                                      id="clientAge" />
                                  </div>
                                  <div class="form-group">
                                    <label for="email">Email</label>
                                    <input
                                      type="email"
                                      class="form-control"
                                      id="clientEmail" />
                                  </div>
                                  <div class="form-group">
                                    <label for="password">Password</label>
                                    <input
                                      type="password"
                                      class="form-control"
                                      id="clientPassword" />
                                  </div>
                                  <div class="form-group">
                                    <label for="contactNumber"
                                      >Contact Number</label
                                    >
                                    <input
                                      type="tel"
                                      class="form-control"
                                      id="clientNumber" />
                                  </div>
                                </div>
                              </form>
                              <div class="modal-footer">
                                <button
                                  type="button"
                                  class="btn btn-secondary"
                                  data-dismiss="modal">
                                  Close
                                </button>
                                <button
                                  type="button"
                                  class="btn btn-primary"
                                  id="create_client">
                                  Save changes
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <li>
                          <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                          </a>
                        </li>
                        <li>
                          <a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="card-box table-responsive">
                            <table
                              id="datatable-responsive"
                              class="table table-bordered table-striped dt-responsive nowrap"
                              cellspacing="0"
                              width="100%">
                              <thead>
                                <tr>
                                  <th>FIRST NAME</th>
                                  <th>LAST NAME</th>
                                  <th>AGE</th>
                                  <th>EMAIL</th>
                                  <th>CONTACT NUMBER</th>
                                  <th>ACTIONS</th>
                                </tr>
                              </thead>
                              <tbody id="clientTableBody"></tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Edit Modal -->
              <div
                class="modal fade"
                id="editModal"
                tabindex="-1"
                role="dialog"
                aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="editModalLabel">
                        Edit Client
                      </h5>
                      <button
                        type="button"
                        class="close"
                        data-dismiss="modal"
                        aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <form
                      id="editClientForm"
                      onsubmit="return handleEditFormSubmit()">
                      <div class="modal-body">
                        <div class="form-group">
                          <label for="editClientFirstName">First Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="editClientFirstName" />
                        </div>
                        <div class="form-group">
                          <label for="editClientLastName">Last Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="editClientLastName" />
                        </div>
                        <div class="form-group">
                          <label for="editClientAge">Age</label>
                          <input
                            type="number"
                            class="form-control"
                            id="editClientAge" />
                        </div>
                        <div class="form-group">
                          <label for="editClientEmail">Email</label>
                          <input
                            type="email"
                            class="form-control"
                            id="editClientEmail" />
                        </div>
                        <div class="form-group">
                          <label for="editClientPassword">Password</label>
                          <input
                            type="password"
                            class="form-control"
                            id="editClientPassword" />
                        </div>
                        <div class="form-group">
                          <label for="editClientContactNumber"
                            >Contact Number</label
                          >
                          <input
                            type="tel"
                            class="form-control"
                            id="editClientContactNumber" />
                        </div>
                        <div class="form-group">
                          <label for="editClientProfilePicture"
                            >Profile Picture</label
                          >
                          <input
                            type="file"
                            class="form-control"
                            id="editClientProfilePicture"
                            accept="image/*" />
                        </div>
                      </div>
                    </form>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-dismiss="modal">
                        Close
                      </button>
                      <button
                        type="button"
                        class="btn btn-primary"
                        id="saveChangesButton">
                        Save changes
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Create Modal -->
              <div
                class="modal fade"
                id="createModal"
                tabindex="-1"
                role="dialog"
                aria-labelledby="createModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="createModalLabel">
                        Create Staff
                      </h5>
                      <button
                        type="button"
                        class="close"
                        data-dismiss="modal"
                        aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div
                      id="successAlert"
                      class="alert alert-success d-none"
                      role="alert"></div>
                    <div
                      id="errorAlert"
                      class="alert alert-danger d-none"
                      role="alert"></div>
                    <form>
                      <div class="modal-body">
                        <!-- Add your form for creating here -->
                        <div class="form-group">
                          <label for="firstName">First Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="firstName" />
                        </div>
                        <div class="form-group">
                          <label for="lastName">Last Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="lastName" />
                        </div>
                        <div class="form-group">
                          <label for="age">Age</label>
                          <input type="number" class="form-control" id="age" />
                        </div>
                        <div class="form-group">
                          <label for="email">Email</label>
                          <input type="email" class="form-control" id="email" />
                        </div>
                        <div class="form-group">
                          <label for="password">Password</label>
                          <input
                            type="password"
                            class="form-control"
                            id="password" />
                        </div>
                        <div class="form-group">
                          <label for="contactNumber">Contact Number</label>
                          <input
                            type="tel"
                            class="form-control"
                            id="contactNumber" />
                        </div>
                        <div class="form-group">
                          <label for="image">Profile</label>
                          <input
                            type="file"
                            class="form-control"
                            id="image"
                            accept="image/*" />
                        </div>
                      </div>
                    </form>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-dismiss="modal">
                        Close
                      </button>
                      <button
                        type="button"
                        class="btn btn-primary"
                        id="create_staff">
                        Save changes
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 col-sm-12">
                  <div class="x_panel">
                    <div class="x_title">
                      <h2>List of Staff</h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li>
                          <button
                            class="btn btn-primary"
                            data-toggle="modal"
                            data-target="#createModal">
                            Create Staff
                          </button>
                        </li>
                        <li>
                          <a class="collapse-link"
                            ><i class="fa fa-chevron-up"></i
                          ></a>
                        </li>
                        <li>
                          <a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="card-box table-responsive">
                            <table
                              id="datatable-responsive"
                              class="table table-bordered table-striped dt-responsive nowrap"
                              cellspacing="0"
                              width="100%">
                              <thead>
                                <tr>
                                  <th>FIRST NAME</th>
                                  <th>LAST NAME</th>
                                  <th>AGE</th>
                                  <th>EMAIL</th>
                                  <th>CONTACT NUMBER</th>
                                  <th>ACTIONS</th>
                                </tr>
                              </thead>
                              <tbody id="staffTableBody"></tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- /page content -->
          <!-- footer content -->
          <footer>
            <div class="clearfix"></div>
          </footer>
          <!-- /footer content -->
        </div>
      </div>
      <!-- jQuery -->
    </div>
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- FastClick -->
    <script src="../vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="../vendors/nprogress/nprogress.js"></script>
    <!-- iCheck -->
    <script src="../vendors/iCheck/icheck.min.js"></script>
    <!-- Datatables -->
    <script src="../vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="../vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="../vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="../vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="../vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="../vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="../vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="../vendors/jszip/dist/jszip.min.js"></script>
    <script src="../vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="../vendors/pdfmake/build/vfs_fonts.js"></script>
    <!-- Custom Theme Scripts -->
    <script>
      var backendURL = "https://c6a3-103-170-129-6.ngrok-free.app";

      // Delete Client
      function deleteClient(clientId) {
        var adminToken = localStorage.getItem("admin_token");
        fetch(`${backendURL}/api/clients/${clientId}`, {
          method: "DELETE",
          headers: {
            Authorization: "Bearer " + adminToken,
          },
        })
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then((data) => {
            location.reload();
          })
          .catch((error) => {
            var errorAlert = document.getElementById("errorAlert");
            errorAlert.textContent = "Error deleting: " + error.message;
            errorAlert.classList.remove("d-none");
          });
      }

      // Delete Staff
      function deleteStaff(staffId) {
        var adminToken = localStorage.getItem("admin_token");
        fetch(`${backendURL}/api/staff/${staffId}`, {
          method: "DELETE",
          headers: {
            Authorization: "Bearer " + adminToken,
          },
        })
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then((data) => {
            location.reload();
          })
          .catch((error) => {
            var errorAlert = document.getElementById("errorAlert");
            errorAlert.textContent = "Error deleting: " + error.message;
            errorAlert.classList.remove("d-none");
          });
      }
    </script>
    <script src="../build/js/custom.min.js"></script>
    <script type="module" src="../admin/js/dashboard/dashboard.js"></script>
    <script defer type="module" src="../admin/js/dashboard/CRUD_U.js"></script>
    <script
      defer
      type="module"
      src="../admin/js/dashboard/create_client.js"></script>
    <script
      defer
      type="module"
      src="../admin/js/dashboard/create_staff.js"></script>
  </body>
</html>
